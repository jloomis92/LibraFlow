<Window x:Class="LibraFlow.Views.RegisterView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      xmlns:local="clr-namespace:LibraFlow.Helpers"
      Title="Register" MaxHeight="800" MaxWidth="400"
      Style="{StaticResource MaterialDesignWindow}">
    <Window.Resources>
        <local:StringToVisibilityConverter x:Key="StringToVisibilityConverter"/>
    </Window.Resources>
    <Grid Background="{DynamicResource MaterialDesignPaper}">
        <ContentControl x:Name="MainContent" Grid.Column="1">
            <materialDesign:Card Padding="40"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center"
                                 MaxWidth="340">
                <StackPanel>
                    <TextBlock Text="Welcome to LibraFlow"
                               Style="{StaticResource MaterialDesignHeadline5TextBlock}"
                               Margin="0,0,0,16"
                               HorizontalAlignment="Center"
                               FontWeight="Bold"
                               TextWrapping="Wrap"/>
                    <TextBlock Text="Registration"
                               Style="{StaticResource MaterialDesignHeadline5TextBlock}"
                               Margin="0,0,0,16"
                               HorizontalAlignment="Center"/>
                    <TextBox
                        materialDesign:HintAssist.Hint="First Name"
                        Text="{Binding FirstName, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, NotifyOnValidationError=True}"
                        Margin="0,0,0,16"
                        Style="{StaticResource MaterialDesignOutlinedTextBox}" />
                    <TextBox
                        materialDesign:HintAssist.Hint="Last Name"
                        Text="{Binding LastName, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, NotifyOnValidationError=True}"
                        Margin="0,0,0,16"
                        Style="{StaticResource MaterialDesignOutlinedTextBox}" />
                    <TextBox
                        materialDesign:HintAssist.Hint="Email"
                        Text="{Binding Email, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, NotifyOnValidationError=True}"
                        Margin="0,0,0,16"
                        Style="{StaticResource MaterialDesignOutlinedTextBox}" />
                    <TextBox
                        materialDesign:HintAssist.Hint="Username"
                        Text="{Binding Username, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, NotifyOnValidationError=True}"
                        Margin="0,0,0,16"
                        Style="{StaticResource MaterialDesignOutlinedTextBox}" />
                    <PasswordBox
                        materialDesign:HintAssist.Hint="Password"
                        materialDesign:PasswordBoxAssist.Password="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, NotifyOnValidationError=True}"
                        Margin="0,0,0,16"
                        Style="{StaticResource MaterialDesignOutlinedPasswordBox}" />
                    <PasswordBox
                        materialDesign:HintAssist.Hint="Confirm Password"
                        materialDesign:PasswordBoxAssist.Password="{Binding ConfirmPassword, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, NotifyOnValidationError=True}"
                        Margin="0,0,0,16"
                        Style="{StaticResource MaterialDesignOutlinedPasswordBox}" />
                    <TextBlock Text="{Binding ErrorMessage}"
                               Foreground="Red"
                               Margin="0,0,0,8"
                               Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}"/>
                    <Button Content="Register"
                            Command="{Binding RegisterCommand}"
                            IsEnabled="{Binding CanRegister}"
                            Style="{StaticResource MaterialDesignRaisedButton}"
                            Margin="0,8,0,0"
                            IsDefault="True"/>
                    <TextBlock Text="Already have an account?"
                               Margin="0,16,0,0"
                               HorizontalAlignment="Center"/>
                    <Button Content="Back to Login"
                            Command="{Binding BackToLoginCommand}"
                            Style="{StaticResource MaterialDesignFlatButton}"
                            Margin="0,8,0,0"/>
                </StackPanel>
            </materialDesign:Card>
        </ContentControl>
    </Grid>
</Window>